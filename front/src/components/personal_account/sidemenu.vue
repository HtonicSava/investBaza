<template>
  <div class="sidemenu">
    <div class="sidemenu__top">
      <div class="sidemenu__item">
        <svg
          width="14"
          height="16"
          viewBox="0 0 14 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M7.99935 2.78667C7.81535 2.78667 7.66602 2.63733 7.66602 2.45333V1.33333C7.66602 0.966 7.36668 0.666667 6.99935 0.666667C6.63202 0.666667 6.33268 0.966 6.33268 1.33333V2.45333C6.33268 2.63733 6.18335 2.78667 5.99935 2.78667C5.81535 2.78667 5.66602 2.638 5.66602 2.45333V1.33333C5.66602 0.598 6.26402 0 6.99935 0C7.73468 0 8.33268 0.598 8.33268 1.33333V2.45333C8.33268 2.638 8.18335 2.78667 7.99935 2.78667Z"
            fill="black"
          />
          <path
            d="M6.99935 16.0002C5.71268 16.0002 4.66602 14.9535 4.66602 13.6668C4.66602 13.4828 4.81535 13.3335 4.99935 13.3335C5.18335 13.3335 5.33268 13.4828 5.33268 13.6668C5.33268 14.5855 6.08068 15.3335 6.99935 15.3335C7.91801 15.3335 8.66601 14.5855 8.66601 13.6668C8.66601 13.4828 8.81535 13.3335 8.99935 13.3335C9.18335 13.3335 9.33268 13.4828 9.33268 13.6668C9.33268 14.9535 8.28601 16.0002 6.99935 16.0002Z"
            fill="black"
          />
          <path
            d="M12.6673 14H1.33398C0.782651 14 0.333984 13.5513 0.333984 13C0.333984 12.7073 0.461318 12.4307 0.683984 12.24C1.73465 11.352 2.33398 10.06 2.33398 8.692V6.66667C2.33398 4.09333 4.42732 2 7.00065 2C9.57398 2 11.6673 4.09333 11.6673 6.66667V8.692C11.6673 10.0607 12.2667 11.352 13.312 12.2353C13.54 12.4307 13.6673 12.7073 13.6673 13C13.6673 13.5513 13.2193 14 12.6673 14ZM7.00065 2.66667C4.79465 2.66667 3.00065 4.46067 3.00065 6.66667V8.692C3.00065 10.2573 2.31532 11.734 1.11998 12.7447C1.04332 12.81 1.00065 12.9027 1.00065 13C1.00065 13.184 1.14998 13.3333 1.33398 13.3333H12.6673C12.8513 13.3333 13.0007 13.184 13.0007 13C13.0007 12.9027 12.958 12.81 12.884 12.7467C11.6867 11.734 11.0007 10.2567 11.0007 8.692V6.66667C11.0007 4.46067 9.20665 2.66667 7.00065 2.66667Z"
            fill="black"
          />
        </svg>
      </div>
      <div class="sidemenu__item">
        <svg
          width="15"
          height="15"
          viewBox="0 0 15 15"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M10.1087 5.86956C10.2887 5.86956 10.4348 5.72346 10.4348 5.54346V1.63042C10.4348 0.731739 9.7037 0 8.80434 0H1.63042C0.731097 0 0 0.731739 0 1.63042V13.3695C0 14.2682 0.731097 15 1.63042 15H8.80434C9.7037 15 10.4348 14.2682 10.4348 13.3695V9.4565C10.4348 9.2765 10.2887 9.13041 10.1087 9.13041C9.92867 9.13041 9.7826 9.2765 9.7826 9.4565V13.3695C9.7826 13.9089 9.3437 14.3478 8.80434 14.3478H1.63042C1.09107 14.3478 0.652163 13.9089 0.652163 13.3695V1.63042C0.652163 1.09107 1.09107 0.652163 1.63042 0.652163H8.80434C9.3437 0.652163 9.7826 1.09107 9.7826 1.63042V5.54346C9.7826 5.72346 9.9287 5.86956 10.1087 5.86956Z"
            fill="black"
          />
          <path
            d="M14.673 7.17383H4.23821C4.05821 7.17383 3.91211 7.31993 3.91211 7.49993C3.91211 7.67993 4.05821 7.82599 4.23821 7.82599H14.673C14.853 7.82599 14.9991 7.67989 14.9991 7.49989C14.9991 7.31989 14.853 7.17383 14.673 7.17383Z"
            fill="black"
          />
          <path
            d="M14.9036 7.27065L12.9471 5.31413C12.8199 5.18696 12.6132 5.18696 12.486 5.31413C12.3588 5.4413 12.3588 5.64805 12.486 5.77523L14.2117 7.50088L12.486 9.22653C12.3588 9.3537 12.3588 9.56045 12.486 9.68763C12.5499 9.75088 12.6334 9.78285 12.7169 9.78285C12.8004 9.78285 12.8838 9.75091 12.9471 9.6883L14.9036 7.73178C15.0308 7.60457 15.0308 7.39783 14.9036 7.27065Z"
            fill="black"
          />
        </svg>
      </div>
      <div class="sidemenu__avatar">
        <!-- <img src="@/assets/img/personal_account/item.png" alt="" /> -->
      </div>
    </div>
    <!-- <div class="sidemenu__card">
      <div class="sidemenu__img">
        <img
          ref="image"
          :src="
            require('@/assets/img/personal_account/cards/' +
              photos[currentPhoto] +
              '')
          "
          alt=""
        />
      </div>
      <div @click="leftClick" class="sidemenu__button">
        <svg
          width="10"
          height="17"
          viewBox="0 0 10 17"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M8.82131 0.0167672C9.01336 0.0158194 9.16979 0.170776 9.17074 0.362819C9.17118 0.455402 9.13468 0.544349 9.06933 0.609945L1.68748 8.03654L9.11476 15.4177C9.25115 15.5532 9.25183 15.7737 9.11627 15.9101C8.98071 16.0464 8.76027 16.0471 8.62388 15.9116L0.950342 8.28496C0.81418 8.1496 0.813505 7.92949 0.948834 7.79326L8.57543 0.119755C8.64043 0.0541275 8.72892 0.0170507 8.82131 0.0167672Z"
            fill="black"
          />
        </svg>
      </div>
      <div @click="rightClick" class="sidemenu__button">
        <svg
          width="10"
          height="16"
          viewBox="0 0 10 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M1.17844 15.9961C0.986395 15.9965 0.830437 15.841 0.830079 15.649C0.829916 15.5564 0.866688 15.4676 0.932247 15.4022L8.33684 7.99825L0.932247 0.594368C0.796273 0.458394 0.796273 0.237954 0.932247 0.10198C1.06822 -0.0339935 1.28866 -0.0339935 1.42463 0.10198L9.07474 7.75209C9.21049 7.88786 9.21049 8.10798 9.07474 8.24379L1.42463 15.8939C1.35943 15.9593 1.27083 15.9961 1.17844 15.9961Z"
            fill="black"
          />
        </svg>
      </div>
    </div> -->
    <div class="sidemenu__links">
      <div class="sidemenu__linksContainer">
        <p
          :class="{ 'sidemenu__link-active': pages.Main === true }"
          @click="changePage('Main')"
        >
          Главная информация
        </p>
        <p
          :class="{ 'sidemenu__link-active': pages.Verification === true }"
          @click="changePage('Verification')"
        >
          Верификация
        </p>
        <p
          :class="{ 'sidemenu__link-active': pages.Investment === true }"
          @click="changePage('Investment')"
        >
          Мои инвестиции
        </p>
        <p
          :class="{ 'sidemenu__link-active': pages.Team === true }"
          @click="changePage('Team')"
        >
          Моя команда
        </p>
        <!-- <p
          :class="{ 'sidemenu__link-active': pages.Status === true }"
          @click="changePage('Status')"
        >
          Мой статус
        </p> -->
        <p
          :class="{ 'sidemenu__link-active': pages.Finance === true }"
          @click="changePage('Finance')"
        >
          Финансы
        </p>
        <p
          :class="{ 'sidemenu__link-active': pages.Profile === true }"
          @click="changePage('Profile')"
        >
          Профиль
        </p>
        <p
          :class="{ 'sidemenu__link-active': pages.Reports === true }"
          @click="changePage('Reports')"
        >
          Отчеты
        </p>
        <!-- <p
          :class="{ 'sidemenu__link-active': pages.News === true }"
          @click="changePage('News')"
        >
          Тех. поддержка 
        </p> -->
      </div>
      <div class="sidemenu__linksContainer">

      </div>
    </div>
  </div>
</template>

<script>
export default {
  components: {},
  name: "sidemenu",
  data: function () {
    return {
      pages: {
        Main: true,
        Verification: false,
        Investment: false,
        Team: false,
        Status: false,
        Finance: false,
        Profile: false,
        Reports: false,
        News: false,
      },
      photos: ["card1.png", "card1.png", "card1.png"],
      currentPhoto: 0,
    };
  },
  methods: {
    changePage(page) {
      for (const key in this.pages) {
        this.pages[key] = false;
      }
      this.pages[page] = true;
      this.$emit("change-page", {
        page: page,
      });
    },
    leftClick: function () {
      this.transition();
      setTimeout(() => {
        if (this.currentPhoto > 0) {
          this.currentPhoto--;
        } else {
          this.currentPhoto = this.photos.length - 1;
        }
      }, 500);
    },
    rightClick: function () {
      this.transition();
      setTimeout(() => {
        if (this.currentPhoto < this.photos.length - 1) {
          this.currentPhoto++;
        } else {
          this.currentPhoto = 0;
        }
      }, 500);
    },
    transition: function () {
      this.$refs.image.style.opacity = 0;
      setTimeout(() => (this.$refs.image.style.opacity = 1), 499);
    },
  },
};
</script>

<style lang="scss" scoped>
.sidemenu {
  height: 100%;
  background: #f6f6f6;
  border: 1px solid #000000;
}

.sidemenu__top {
  padding: 40px 25px;
  display: flex;
  align-items: center;
  justify-content: flex-end;
}

.sidemenu__item {
  cursor: pointer;
  width: 42px;
  height: 42px;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: #ffffff;
  border-radius: 50%;
  margin-right: 18px;
  &:last-child {
    margin-right: 28px;
  }
}

.sidemenu__card {
  position: relative;
}

.sidemenu__avatar {
  width: 83px;
  height: 83px;
  border-radius: 50%;
  background-color: #cccccc;
  display: flex;
  justify-content: center;
  position: relative;
  text-align: center;
  font-family: 'Roboto';
  cursor: pointer;
  font-size: 14px;
  font-weight: 700;
  &::before{
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    position: absolute;
    content: 'Загрузить фото';
  }
  img {
    max-width: 100%;
    width: auto;
  }
}

.sidemenu__button {
  cursor: pointer;
  top: 50%;
  position: absolute;
  transform: translate(0%, -50%);
  display: flex;
  align-items: center;
  justify-content: center;

  &:nth-child(2) {
    left: 15px;
  }
  &:nth-child(3) {
    right: 15px;
  }
}

.sidemenu__links {
  display: flex;
  flex-direction: column;
  padding: 50px 30px;
}

.sidemenu__linksContainer {
  font-style: normal;
  font-weight: normal;
  font-size: 24px;
  // font-weight: 500;
  line-height: 76.69%;
  letter-spacing: -0.04em;
  color: #000000;
  &:first-child {
    align-self: flex-start;
    margin-bottom: 40px;
  }
  &:last-child {
    align-self: flex-end;
  }
  p {
    cursor: pointer;
    &:active {
      color: #eb1717;
    }

    &:hover {
      text-shadow: 3px 8px 8px rgba(148, 148, 148, 0.41);
    }
  }
}

.sidemenu__link-active {
  color: #eb1717;
}

@media (max-width: 1024px) {
  .sidemenu {
    display: none;
  }
}
</style>
